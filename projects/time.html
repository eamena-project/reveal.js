<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>EAMENA Summer Workshop</title>

		<link rel="stylesheet" href="../dist/reset.css">
		<link rel="stylesheet" href="../dist/reveal.css">
		<link rel="stylesheet" href="../dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../plugin/highlight/monokai.css">
		<link rel="icon" href="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/logo.png">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

					<section>
						<div style="position: absolute; width: 90%; right: 0;">
							<h3>Analyzing the <a href="https://database.eamena.org/en/">EAMENA database</a> with R and Python scripted routine</h3>
							<p><smaller>Thomas Huet, Kristen Hopper, Will Deadman</smaller></p>
							<a href="https://eamena.org/home">
								<img src="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/logo_complete.png" alt="eamena.png logo" style="height: 70px; margin: 0 auto 4rem auto; background: transparent;" class="demo-logo">
							</a>
							<p><small>EAMENA Workshop 7-8<sup>th</sup> July 2022</small></p>
						</div>
						<aside class="notes">
							The purpose of our presentation is to show how the use of the EAMENA DB can be improved by connecting it to other open source software. To illustrate our purpose, we will focus on the temporal data of the DB. This presentation is hosted online on EAMENA's GitHub repository, and can therefore be retrieved later from a simple URL. It embeds different links, interactive graphics or maps, made on open source app as the powerpoint-like presentation itself.
	
						</aside>					  
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/EA-SummerWorkshop22.png">
						<aside class="notes">
							In the front end, the best way to collect EAMENA data is to "clipboard" the result of a search as a GeoJSON URL. Then the URL can be pasted into a web browser and it is converted into a GeoJSON object. Actually, with the spread of the web, JSON is the main format for data exchange. From the back-end, a connector can be created with R and/or Python to query the Postgresql database where all the EAMENA data is stored. R and/or Python can be either used in standalone files, or online to create any possible outputs (graphs, maps, etc., interactive or not, narratives with calculated fields, etc.).
							</aside>
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/time-edtf-bam-assessement-date.png">
						<div style="position: absolute; width: 40%; right:-160px; top:200px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h2>Assessment Activity Date</h2>
							<p>A Date record type, in the standard format YYYY-MM-DD (ISO 8601)<br>
						</div>
						<aside class="notes">
							As a study, we will focus on the temporal dimension of EAMENA records. This is relevant because EAMENA records the threats that occur simultaneously, or spread out in time, on the cultural heritage. One of the simplest examples is the "Assessment activity date", i.e. the date of creation of a record. Currently, the data type of the "Assessment Activity Date" is a date in the standard format YYYY-MM-DD (ISO 8601).
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/time/threats_day.html" data-background-interactive>
						<aside class="notes">
							Using the workflow presented in the first slide, we can visualise in an interactive chart, all 'Assessment Activity Dates' of EAMENA considering the different categories of threats.
							by days... Here, the 2019-12-02 peak of agricultural/pastoral threats, is a bulk upload created by one of us (Will Deadman) for Iraqi sites in the Mesopotamian agricultural heartland.
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/time/threats_month.html" data-background-interactive>
						<aside class="notes">
							These dates can be aggregate by months..
						</aside>	
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/time/threats_year.html" data-background-interactive>
						<aside class="notes">
							or by years..
						</aside>
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/time-edtf-cultural-periods.png">
						<div style="position: absolute; width: 40%; right:-160px; top:200px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h2>EDTF</h2>
							<p>Extended Date/Time Format (EDTF) is an iso-standard (ISO 8601-2) extending the Date format. It provides a formal syntax to record fuzzy dates, very precise dates (timestamp), negative date, intervals, seasons, and a number of other standardised formats<br>
							<br>
							<smaller>EDTF on the <a ref="http://www.loc.gov/standards/datetime/">Library of Congress</a></smaller>
						</div>
						<aside class="notes">
							In EAMENA, the Absolute Chronology menu uses EDTF format for the dates. EDTF is an extension of the date type format, allowing a complete record of all types of time evaluations whatever their fuzzyness.
						</aside>
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/time-edtf-bam.png">
						<div style="position: absolute; width: 40%; left:0px ; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h2>Bam Citadel</h2>
							<smaller>EAMENA-0164997</smaller>
							<p>Bam is situated in a desert environment on the southern edge of the Iranian high plateau. The origins of Bam can be traced back to the Achaemenid period (6<sup>th</sup> to 4<sup>th</sup> centuries BC). Its heyday was from the 7<sup>th</sup> to 11<sup>th</sup> centuries, being at the crossroads of important trade routes and known for the production of silk and cotton garments. The existence of life in the oasis was based on the underground irrigation canals, the qanāts, of which Bam has preserved some of the earliest evidence in Iran. Arg-e Bam is the most representative example of a fortified medieval town built in vernacular technique using mud layers (Chineh).<br>
							<br>
							<smaller><a href="https://whc.unesco.org/en/list/1208/">https://whc.unesco.org/en/list/1208/</a></smaller>
						</div>
						<aside class="notes">
							Let see how EDTF can be used to record more or less precise temporal events brought by different sources. We choose the case of the citadel of Bam, in Iran. Its history has its roots in the Achaemenid period.
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/geojson/maps/bam" data-background-interactive>
						<!-- <div style="position: absolute; width: 70%; left:-170px; bottom:0px;">
							<h4>Bam (Iran) world heritage site</h4>
						</div> -->
						<div style="position: absolute; width: 40%; left:-160px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							Photograph
							<img src="https://upload.wikimedia.org/wikipedia/commons/7/7f/BAM_IR2726.JPG"  height="300">
							Bam citadel in September 2003, three months before the earthquake <br><br>
							<small>Wikimedia, CC BY-SA 3.0</small><br>
						</div>
						<div style="position: absolute; width: 35%; right:150px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h2>Earthquake</h2>
							Date: 2003-12-26 ; Time: 01:56:52 GMT</p>
						</div>
						<div style="position: absolute; width: 30%; left:50px; top:450px; box-shadow: 0 1px 4px rgba(0,0,0,0), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(255, 0, 0, 1); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h3>EDTF</h3>
							2003-09</p>
						</div>
						<div style="position: absolute; width: 40%; right:-160px; top:200px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<p style = "text-align: right">Photograph</p>
							<img src="https://upload.wikimedia.org/wikipedia/commons/9/95/Destruction_of_the_Bam_Citadel.jpg"  height="300">
							Bam citadel after the earthquake (unknown date)<br><br>
							<small>Wikimedia, Public domain</small><br>
						</div>
						<div style="position: absolute; width: 30%; right:100px; top:150px; box-shadow: 0 1px 4px rgba(0,0,0,0), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(255, 0, 0, 1); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h3>EDTF</h3>
							..2003-12-26T01:56:52+03:30</p>
						</div>
						<aside class="notes">
							The citadel of Bam has been destroyed by an earthquake in 2003, exactly on December 26 at 01h56m52s GMT.
							The two photographs presented here show the citadel before its destruction (left), and after its destruction (right). These photographs can be saved as information resources in EAMENA. The red boxes show how when the 'Assessment Activity Date' in EDTF format. We know that the photograph on the left was created 3 months before the earthquake, in September, but we do not yet know the exact day, so we can record it in YYYY-MM format. The date of the second photograph is unknown, but it was taken after the earthquake: the EDTF format is the concatenate of the date of the earthquake, the GMT offset (+3:30) and two leading dots indicating that the photograph was taken after the earthquake date. 
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/geojson/maps/NWSyria_sites" data-background-interactive>
						<div style="position: absolute; width: 30%; right:-160px; top:150px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 5px; font-size: 16px; text-align: left;">
							<!-- <p style = "text-align: right">Sites</p> -->
							<table>
								<tr>
									<td>ID</td>
									<td>Name</td>
								</tr>
								<tr>
									<td>AM001</td>
									<td>Tell Soran</td>
								</tr>
								<tr>
									<td>AM002</td>
									<td>Tell Alsheykh Rih</td>
								</tr>
								<tr>
									<td>AM003</td>
									<td>Tell Akhtareen</td>
								</tr>
								<tr>
									<td>AM004</td>
									<td>​Tell Arshaf</td>
								</tr>
								<tr>
									<td>AM005</td>
									<td>Tell Maled</td>
								</tr>
								<tr>
									<td>AM006</td>
									<td>Tell Battal</td>
								</tr>
								<tr>
									<td>AM007</td>
									<td>Tell Bhorta</td>
								</tr>
								<tr>
									<td>AM008</td>
									<td>Tell Sha'eer</td>
								</tr>
								<tr>
									<td>AM009</td>
									<td>Tell Dapiq</td>
								</tr>
								<tr>
									<td>AM010</td>
									<td>Tell Baraghedeh</td>
								</tr>
								<tr>
									<td>AM011</td>
									<td>Tell Mizab</td>
								</tr>
								<tr>
									<td>AM012</td>
									<td>Tell Ahmar (Al Bab)</td>
								</tr>
								<tr>
									<td>AM013</td>
									<td>Tell al-Fursan</td>
								</tr>
								<tr>
									<td>AM014</td>
									<td>Tell Arab Hasan Kabır</td>
								</tr>
								<tr>
									<td>AM015</td>
									<td>Tell Abu Jadha (al Taiarah)</td>
								</tr>
								<tr>
									<td>AM016</td>
									<td>Tell Ahmar (Barsip)</td>
								</tr>
								<tr>
									<td>AM017</td>
									<td>Tell al-Halawanji (Castle)</td>
								</tr>
								<tr>
									<td>AM019</td>
									<td>Abu Qilqil</td>
								</tr>
								<tr>
									<td></td>
									<td>Tell al-Bel</td>
								</tr>
							</table>
						</div>
						<aside class="notes">
							We now turn to how EDTF helps model temporal dynamics. We reuse results from previous research (Almohamad et al., paper under review) on condition assessment data from 19 archaeological sites in northwestern Syria registred over a five-year survey (2014-2019) with ground-based and remotely multi-temporal assessments.
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/functions/time/results/df_syria_out_threat_types" data-background-interactive>
						<div style="position: absolute; width: 60%;  left:-100px; top:0px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 5px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; ">
							<img src="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/time-edtf-caa22.png"  height="400", width="700">
						</div>
						<aside class="notes">
							This study collected 218 different dates now converted to EDTF format to handle all source uncertainties, and a sample is listed here, in this Excel spreadsheet. This dataset was processed with an R function, and displayed in an interactive web graph. The disturbance analysis showed a clear correlation between the temporal pattern of different types of damage and the changing political situation in the study area.
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/geojson/maps/NWSyria_sites_zoom" data-background-interactive>
						<div style="position: absolute; width: 30%; right:-160px; top:150px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 5px; font-size: 16px; text-align: left;">
							<!-- <p style = "text-align: right">Sites</p> -->
							<table style="color: grey;" bgcolor="black">
								<tr>
									<td>S_ID</td>
									<td>Name</td>
								</tr>
								<tr>
									<td>AM001</td>
									<td>Tell Soran</td>
								</tr>
								<tr>
									<td>AM002</td>
									<td>Tell Alsheykh Rih</td>
								</tr>
								<tr>
									<td>AM003</td>
									<td>Tell Akhtareen</td>
								</tr>
								<tr>
									<td>AM004</td>
									<td>​Tell Arshaf</td>
								</tr>
								<tr>
									<td>AM005</td>
									<td>Tell Maled</td>
								</tr>
								<tr>
									<td>AM006</td>
									<td>Tell Battal</td>
								</tr>
								<tr>
									<td>AM007</td>
									<td>Tell Bhorta</td>
								</tr>
								<tr>
									<td>AM008</td>
									<td>Tell Sha'eer</td>
								</tr>
								<tr style="color: white;" bgcolor="black">
									<td>AM009</td>
									<td>Tell Dapiq</td>
								</tr>
								<tr>
									<td>AM010</td>
									<td>Tell Baraghedeh</td>
								</tr>
								<tr>
									<td>AM011</td>
									<td>Tell Mizab</td>
								</tr>
								<tr>
									<td>AM012</td>
									<td>Tell Ahmar (Al Bab)</td>
								</tr>
								<tr>
									<td>AM013</td>
									<td>Tell al-Fursan</td>
								</tr>
								<tr>
									<td>AM014</td>
									<td>Tell Arab Hasan Kabır</td>
								</tr>
								<tr>
									<td>AM015</td>
									<td>Tell Abu Jadha (al Taiarah)</td>
								</tr>
								<tr>
									<td>AM016</td>
									<td>Tell Ahmar (Barsip)</td>
								</tr>
								<tr>
									<td>AM017</td>
									<td>Tell al-Halawanji (Castle)</td>
								</tr>
								<tr>
									<td>AM019</td>
									<td>Abu Qilqil</td>
								</tr>
								<tr>
									<td></td>
									<td>Tell al-Bel</td>
								</tr>
							</table>
						</div>
						<aside class="notes">
							Let's focus on one of these sites, Tell Dapiq
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/functions/time/results/df_syria_out_AM009" data-background-interactive>
						<div style="position: absolute; width: 60%;  left:-100px; top:0px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 5px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; font-size: 14px; ">
							<table >
								<tr> <th> S_ID </th> <th> Disturbance.Type </th> <th> Disturbance.Cause </th> <th> EDTF </th>  </tr>
								  <tr> <td> AM009 </td> <td> Domestic </td> <td> Construction </td> <td> ..2004-12-31 </td> </tr>
								  <tr> <td> AM009 </td> <td> Infrastructure/Transport </td> <td> Clearance (Bulldozing/Levelling) </td> <td> ..2004-12-31 </td> </tr>
								  <tr> <td> AM009 </td> <td> Hydrological </td> <td> Construction </td> <td> ..2004-12-31 </td> </tr>
								  <tr> <td> AM009 </td> <td> Development </td> <td> Dumping </td> <td> ..2009-05-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Natural </td> <td> Water Action </td> <td> ..2009-05-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Natural </td> <td> Wind Action </td> <td> ..2009-05-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Domestic </td> <td> Construction </td> <td> 2011-06-10:2015-06-30 </td> </tr>
								  <tr> <td> AM009 </td> <td> Defensive/Fortification </td> <td> Clearance (Bulldozing/Levelling) </td> <td> 2011-05-11:2015-06-30 </td> </tr>
								  <tr> <td> AM009 </td> <td> Public </td> <td> Occupation/Continued Use </td> <td> ..2011-06-10 </td> </tr>
								  <tr> <td> AM009 </td> <td> Military </td> <td> Explosion/Heavy Weaponry </td> <td> ..2015-06-30 </td> </tr>
								  <tr> <td> AM009 </td> <td> Domestic </td> <td> Construction </td> <td> 2016-09-25:2016-11-27 </td> </tr>
								  <tr> <td> AM009 </td> <td> Agricultural/Pastoral </td> <td> Trees </td> <td> ..2016-10-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Looting </td> <td> Excavation (Hand) </td> <td> ..2016-10-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Agricultural/Pastoral </td> <td> Grazing/Animal Movement </td> <td> 2017-02-20 </td> </tr>
								  <tr> <td> AM009 </td> <td> Looting </td> <td> Excavation (Hand) </td> <td> 2017-04-20:2018-02-07 </td> </tr>
								  <tr> <td> AM009 </td> <td> Agricultural/Pastoral </td> <td> Grazing/Animal Movement </td> <td> 2018-02-07 </td> </tr>
							</table>
						</div>
						<aside class="notes">
							AM009 has clear conflict related damage within the time period of the study
						</aside>
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/EA-SummerWorkshop22.png">
						<div style="position: absolute; width: 90%; top:0; right: 0; color: #000;">
							<h2 style="color: #000;">Conclusion</h2>
						<aside class="notes">
							 EAMENA is a massive geo-web database that connects to open source applications.  The database offers all the computing facilities to semantize its content and complies with science high standards. EDTF time format is one of these iso-standards supported by the database. Scripted routines facilitate the management of very large volumes of data within a framework compliant with open science. Nowadays, Python is the most widely used programming language in the world. For the EAMENA project it would rather have a back-end usage to develop new functionalities (ex: ring-fencing). R is the most used programming language in archaeology with numerous libraries, a large user community and available teaching material. It is adapted for a front-end user. R is easy to install and quite easy to learn. Cloud computing with shared graphical interfaces (programming consoles) or platforms like GitHub make it possible to share and co-develop entire or partial applications.  					This presentation brings together interactive web files that can then be reused as is in other contexts (data-driven document, tutorials, social media, etc.) that can be merged with text/narratives offering a powerful authoring frameworks for research and cultural heritage management.  
						</aside>					  
					</section>
			</div>
		</div>

		<script src="../dist/reveal.js"></script>
		<script src="../plugin/notes/notes.js"></script>
		<script src="../plugin/markdown/markdown.js"></script>
		<script src="../plugin/highlight/highlight.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
				// zoomKey: 'tab'
			});
		</script>
	</body>
</html>
