<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>EAMENA Summer Workshop</title>

		<link rel="stylesheet" href="../dist/reset.css">
		<link rel="stylesheet" href="../dist/reveal.css">
		<link rel="stylesheet" href="../dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../plugin/highlight/monokai.css">
		<link rel="icon" href="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/logo.png">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

					<section>
						<div style="position: absolute; width: 90%; right: 0;">
							<h3>Analyzing the <a href="https://database.eamena.org/en/">EAMENA database</a> with R and Python scripted routine</h3>
							<p><smaller>Thomas Huet, Kristen Hopper, Will Deadman</smaller></p>
							<a href="https://eamena.org/home">
								<img src="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/logo_complete.png" alt="eamena.png logo" style="height: 70px; margin: 0 auto 4rem auto; background: transparent;" class="demo-logo">
							</a>
							<p><small>EAMENA Workshop 7-8<sup>th</sup> July 2022</small></p>
						</div>
						<aside class="notes">
							The aim of our presentation is to show how the use of the EAMENA DB can be improved by connecting it to other open source softwares and, in the first place, to scripted routines. This powerpoint-like presentation, as the interactive graphics or maps it embeds, has been created through computer programming: mostly R and HTML. These resources are hosted online, on the EAMENA's GitHub repository, and can therefore be retrieved from a simple URL, and reused as is in other contexts (data-driven reports, tutorials, social media, etc.). 
						</aside>					  
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/EA-SummerWorkshop22.png">
						<aside class="notes">
							In the front end, the best way to collect EAMENA data is to "clipboard" the result of a search as a GeoJSON URL. This URL can be pasted into a web browser and it is converted into a GeoJSON object (JSON is the main format for data exchange). From the back-end, a connector can be created with R and/or Python to query directly the Postgresql database, where all the EAMENA data is stored. Nowadays, Python is the most widely used programming language in the world. For the EAMENA project it would rather have a back-end usage to develop new core functionalities (ex: ring-fencing). R is the most used programming language in archaeology. It is adapted for a front-end use. R and/or Python scripts can be either used in standalone files, or sahred online, to create any possible outputs (graphs, maps interactive or not, narratives with calculated fields, etc.).
							</aside>
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/time-edtf-bam-assessement-date.png">
						<div style="position: absolute; width: 40%; right:-160px; top:200px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h2>Assessment Activity Date</h2>
							<p>A Date record type, in the standard format YYYY-MM-DD (<a ref="https://www.iso.org/iso-8601-date-and-time-format.html">ISO-8601</a>)<br><br>
							<smaller><a ref="https://docs.python.org/3/library/datetime.html">Python</a> - <a ref="https://www.w3schools.com/js/js_date_formats.asp">JavaScript</a> - <a ref="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html">ElasticSearch</a></smaller>
							
						</div>
						<aside class="notes">
							As a study, we will focus on the temporal dimension of EAMENA records. This is relevant because EAMENA registers the threats on the cultural heritage that occur simultaneously (events), or spread out in time (durations). One of the simplest examples of a temporal record in EAMENA would be the "Assessment activity date", that is to say the date of the creation of a record. Currently, the data type of this record is a Date in the standard format 4 digits for the year, dash, two digits for the month, dash, two digits for the day (ISO 8601).
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/time/threats_day.html" data-background-interactive>
						<aside class="notes">
							Using the workflow presented in the first slide, we can visualise all 'Assessment Activity Dates' of EAMENA considering the different categories of threats by days in an interactive chart. Here, for example, the  December 2 of 2019, a very large number of agricultural/pastoral threats have been recorded. This data comes from a "bulk upload" created by one of us (Will Deadman) for Iraqi sites in the Mesopotamian agricultural heartland.
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/time/threats_month.html" data-background-interactive>
						<aside class="notes">
							These dates can be aggregate by months..
						</aside>	
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/time/threats_year.html" data-background-interactive>
						<aside class="notes">
							or by years..
						</aside>
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/time-edtf-cultural-periods.png">
						<div style="position: absolute; width: 40%; right:-160px; top:200px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h2>EDTF</h2>
							<p>Extended Date/Time Format (EDTF) is an iso-standard (ISO 8601-2) extending the Date format. It provides a formal syntax to record fuzzy dates, very precise dates (timestamp), negative date, intervals, seasons, and a number of other standardised formats<br>
							<br>
							<smaller>EDTF on the <a ref="http://www.loc.gov/standards/datetime/">Library of Congress</a></smaller>
						</div>
						<aside class="notes">
							In EAMENA, alongside with Date formats, another data type is used to record dates: the EDTF format. EDTF means Extended Date and Time Format. It is an extension of the previously seen ISO-8601 date format. It allows an accurate record of time events and durations whatever their fuzzyness. In EAMENA, EDTF is used for the Absolute Chronology assessment (Archaeological Timespace).
						</aside>
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/time-edtf-bam.png">
						<div style="position: absolute; width: 40%; left:0px ; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h2>Bam Citadel</h2>
							<smaller>EAMENA-0164997</smaller>
							<p>Bam is situated in a desert environment on the southern edge of the Iranian high plateau. The origins of Bam can be traced back to the Achaemenid period (6<sup>th</sup> to 4<sup>th</sup> centuries BC). Its heyday was from the 7<sup>th</sup> to 11<sup>th</sup> centuries, being at the crossroads of important trade routes and known for the production of silk and cotton garments. The existence of life in the oasis was based on the underground irrigation canals, the qanāts, of which Bam has preserved some of the earliest evidence in Iran. Arg-e Bam is the most representative example of a fortified medieval town built in vernacular technique using mud layers (Chineh).<br>
							<br>
							<smaller><a href="https://whc.unesco.org/en/list/1208/">https://whc.unesco.org/en/list/1208/</a></smaller>
						</div>
						<aside class="notes">
							Let see how EDTF can be used to record more or less precise temporal data brought by different sources. We choose the case of the citadel of Bam, in Iran. Its history has its roots in the Achaemenid period.
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/geojson/maps/bam" data-background-interactive>
						<!-- <div style="position: absolute; width: 70%; left:-170px; bottom:0px;">
							<h4>Bam (Iran) world heritage site</h4>
						</div> -->
						<div style="position: absolute; width: 40%; left:-160px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							Photograph
							<img src="https://upload.wikimedia.org/wikipedia/commons/7/7f/BAM_IR2726.JPG"  height="300">
							Bam citadel in September 2003, three months before the earthquake <br><br>
							<small>Wikimedia, CC BY-SA 3.0</small><br>
						</div>
						<div style="position: absolute; width: 35%; right:150px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: brown; color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h2>Earthquake</h2>
							Date: 2003-12-26 ; Time: 01:56:52 GMT</p>
						</div>
						<div style="position: absolute; width: 20%; left:150px; top:450px; box-shadow: 0 1px 4px rgba(0,0,0,0), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(255, 0, 0, 1); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h3>EDTF</h3>
							2003-09</p>
						</div>
						<div style="position: absolute; width: 40%; right:-160px; top:200px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<p style = "text-align: right">Photograph</p>
							<img src="https://upload.wikimedia.org/wikipedia/commons/9/95/Destruction_of_the_Bam_Citadel.jpg"  height="300">
							Bam citadel after the earthquake (unknown date)<br><br>
							<small>Wikimedia, Public domain</small><br>
						</div>
						<div style="position: absolute; width: 30%; right:100px; top:150px; box-shadow: 0 1px 4px rgba(0,0,0,0), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(255, 0, 0, 1); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
							<h3>EDTF</h3>
							..2003-12-26T01:56:52+03:30</p>
						</div>
						<aside class="notes">
							The citadel of Bam has been destroyed by an earthquake in 2003, exactly on December 26 at 01h56m52s GMT.
							The two photographs presented here show the citadel before its destruction (left), and after its destruction (right). The red boxes show the EDTF notation of the date of the photograph. We know that the photograph on the left was taken 3 months before the earthquake, in September, but we do not yet know the exact day, so we can record it in YYYY-MM format. The date of the second photograph is unknown, but it was taken after the earthquake: the EDTF format is the concatenate of the date of the earthquake, the GMT offset (+3:30) and two leading dots indicating that the EDTF record is the upper bound of the earthquake date. 
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/geojson/maps/NWSyria_sites" data-background-interactive>
						<div style="position: absolute; width: 30%; right:-160px; top:150px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 5px; font-size: 16px; text-align: left;">
							<!-- <p style = "text-align: right">Sites</p> -->
							<table>
								<tr>
									<td>ID</td>
									<td>Name</td>
								</tr>
								<tr>
									<td>AM001</td>
									<td>Tell Soran</td>
								</tr>
								<tr>
									<td>AM002</td>
									<td>Tell Alsheykh Rih</td>
								</tr>
								<tr>
									<td>AM003</td>
									<td>Tell Akhtareen</td>
								</tr>
								<tr>
									<td>AM004</td>
									<td>​Tell Arshaf</td>
								</tr>
								<tr>
									<td>AM005</td>
									<td>Tell Maled</td>
								</tr>
								<tr>
									<td>AM006</td>
									<td>Tell Battal</td>
								</tr>
								<tr>
									<td>AM007</td>
									<td>Tell Bhorta</td>
								</tr>
								<tr>
									<td>AM008</td>
									<td>Tell Sha'eer</td>
								</tr>
								<tr>
									<td>AM009</td>
									<td>Tell Dapiq</td>
								</tr>
								<tr>
									<td>AM010</td>
									<td>Tell Baraghedeh</td>
								</tr>
								<tr>
									<td>AM011</td>
									<td>Tell Mizab</td>
								</tr>
								<tr>
									<td>AM012</td>
									<td>Tell Ahmar (Al Bab)</td>
								</tr>
								<tr>
									<td>AM013</td>
									<td>Tell al-Fursan</td>
								</tr>
								<tr>
									<td>AM014</td>
									<td>Tell Arab Hasan Kabır</td>
								</tr>
								<tr>
									<td>AM015</td>
									<td>Tell Abu Jadha (al Taiarah)</td>
								</tr>
								<tr>
									<td>AM016</td>
									<td>Tell Ahmar (Barsip)</td>
								</tr>
								<tr>
									<td>AM017</td>
									<td>Tell al-Halawanji (Castle)</td>
								</tr>
								<tr>
									<td>AM019</td>
									<td>Abu Qilqil</td>
								</tr>
								<tr>
									<td></td>
									<td>Tell al-Bel</td>
								</tr>
							</table>
						</div>
						<aside class="notes">
							We now turn to how EDTF helps model temporal dynamics. We reuse results from previous research by Almohamad et al. (a paper under review) on condition assessment of 19 archaeological sites in northwestern Syria. This data has been collected over a five-year period (2014-2019) with ground-based and remote multi-temporal assessments.
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/functions/time/results/df_syria_out_threat_types" data-background-interactive>
						<div style="position: absolute; width: 60%;  left:-100px; top:0px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 5px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; ">
							<img src="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/time-edtf-caa22.png"  height="400", width="700">
						</div>
						<aside class="notes">
							This study collected 218 different dates now converted to EDTF format. A sample is listed here, in this Excel spreadsheet. This dataset was processed with an R function, and displayed in an interactive web graph. The disturbance analysis showed a clear correlation between the temporal pattern of different types of damage and the changing political situation in the studied area.
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/data/geojson/maps/NWSyria_sites_zoom" data-background-interactive>
						<div style="position: absolute; width: 30%; right:-160px; top:150px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 5px; font-size: 16px; text-align: left;">
							<!-- <p style = "text-align: right">Sites</p> -->
							<table style="color: grey;" bgcolor="black">
								<tr>
									<td>S_ID</td>
									<td>Name</td>
								</tr>
								<tr>
									<td>AM001</td>
									<td>Tell Soran</td>
								</tr>
								<tr>
									<td>AM002</td>
									<td>Tell Alsheykh Rih</td>
								</tr>
								<tr>
									<td>AM003</td>
									<td>Tell Akhtareen</td>
								</tr>
								<tr>
									<td>AM004</td>
									<td>​Tell Arshaf</td>
								</tr>
								<tr>
									<td>AM005</td>
									<td>Tell Maled</td>
								</tr>
								<tr>
									<td>AM006</td>
									<td>Tell Battal</td>
								</tr>
								<tr>
									<td>AM007</td>
									<td>Tell Bhorta</td>
								</tr>
								<tr>
									<td>AM008</td>
									<td>Tell Sha'eer</td>
								</tr>
								<tr style="color: white;" bgcolor="black">
									<td>AM009</td>
									<td>Tell Dapiq</td>
								</tr>
								<tr>
									<td>AM010</td>
									<td>Tell Baraghedeh</td>
								</tr>
								<tr>
									<td>AM011</td>
									<td>Tell Mizab</td>
								</tr>
								<tr>
									<td>AM012</td>
									<td>Tell Ahmar (Al Bab)</td>
								</tr>
								<tr>
									<td>AM013</td>
									<td>Tell al-Fursan</td>
								</tr>
								<tr>
									<td>AM014</td>
									<td>Tell Arab Hasan Kabır</td>
								</tr>
								<tr>
									<td>AM015</td>
									<td>Tell Abu Jadha (al Taiarah)</td>
								</tr>
								<tr>
									<td>AM016</td>
									<td>Tell Ahmar (Barsip)</td>
								</tr>
								<tr>
									<td>AM017</td>
									<td>Tell al-Halawanji (Castle)</td>
								</tr>
								<tr>
									<td>AM019</td>
									<td>Abu Qilqil</td>
								</tr>
								<tr>
									<td></td>
									<td>Tell al-Bel</td>
								</tr>
							</table>
						</div>
						<aside class="notes">
							Let's focus on one of these sites, Tell Dapiq
						</aside>
					</section>

					<section data-background-iframe="https://eamena-oxford.github.io/eamena-arches-dev/functions/time/results/df_syria_out_AM009" data-background-interactive>
						<div style="position: absolute; width: 60%;  left:-100px; top:0px; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 5px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; font-size: 14px; ">
							<table >
								<tr> <th> S_ID </th> <th> Disturbance.Type </th> <th> Disturbance.Cause </th> <th> EDTF </th>  </tr>
								  <tr> <td> AM009 </td> <td> Domestic </td> <td> Construction </td> <td> ..2004-12-31 </td> </tr>
								  <tr> <td> AM009 </td> <td> Infrastructure/Transport </td> <td> Clearance (Bulldozing/Levelling) </td> <td> ..2004-12-31 </td> </tr>
								  <tr> <td> AM009 </td> <td> Hydrological </td> <td> Construction </td> <td> ..2004-12-31 </td> </tr>
								  <tr> <td> AM009 </td> <td> Development </td> <td> Dumping </td> <td> ..2009-05-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Natural </td> <td> Water Action </td> <td> ..2009-05-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Natural </td> <td> Wind Action </td> <td> ..2009-05-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Domestic </td> <td> Construction </td> <td> 2011-06-10:2015-06-30 </td> </tr>
								  <tr> <td> AM009 </td> <td> Defensive/Fortification </td> <td> Clearance (Bulldozing/Levelling) </td> <td> 2011-05-11:2015-06-30 </td> </tr>
								  <tr> <td> AM009 </td> <td> Public </td> <td> Occupation/Continued Use </td> <td> ..2011-06-10 </td> </tr>
								  <tr> <td> AM009 </td> <td> Military </td> <td> Explosion/Heavy Weaponry </td> <td> ..2015-06-30 </td> </tr>
								  <tr> <td> AM009 </td> <td> Domestic </td> <td> Construction </td> <td> 2016-09-25:2016-11-27 </td> </tr>
								  <tr> <td> AM009 </td> <td> Agricultural/Pastoral </td> <td> Trees </td> <td> ..2016-10-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Looting </td> <td> Excavation (Hand) </td> <td> ..2016-10-16 </td> </tr>
								  <tr> <td> AM009 </td> <td> Agricultural/Pastoral </td> <td> Grazing/Animal Movement </td> <td> 2017-02-20 </td> </tr>
								  <tr> <td> AM009 </td> <td> Looting </td> <td> Excavation (Hand) </td> <td> 2017-04-20:2018-02-07 </td> </tr>
								  <tr> <td> AM009 </td> <td> Agricultural/Pastoral </td> <td> Grazing/Animal Movement </td> <td> 2018-02-07 </td> </tr>
							</table>
						</div>
						<aside class="notes">
							AM009 has clear conflict related damage within the time period of the study
						</aside>
					</section>

					<section data-background-image="https://raw.githubusercontent.com/eamena-oxford/eamena-arches-dev/main/www/EA-SummerWorkshop22.png">
						<div style="position: absolute; width: 90%; top:0; right: 0; color: #000;">
							<h2 style="color: #000;">Conclusion</h2>
						<aside class="notes">
							 EAMENA is a massive geo-web database that offers all the computing facilities to semantize its content and complies with open science and FAIR directives. EDTF time format is one of these iso-standards supported by the database. EAMENA can be connected  to open source applications, and first of all to scripted routines. These latters facilitate the management of very large volumes of data within a framework compliant with high scientific standards. Cloud computing with shared graphical interfaces (programming consoles) or platforms like GitHub make it possible to share and co-develop entire or partial automated workflows. This offers great opportunities to integrate the very large amount of EAMENA data into authoring frameworks for cultural heritage research and management.
						</aside>					  
					</section>
			</div>
		</div>

		<script src="../dist/reveal.js"></script>
		<script src="../plugin/notes/notes.js"></script>
		<script src="../plugin/markdown/markdown.js"></script>
		<script src="../plugin/highlight/highlight.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
				// zoomKey: 'tab'
			});
		</script>
	</body>
</html>
